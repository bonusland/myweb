<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Paw Society</title>
    <!-- OneSignal SDK -->
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="antialiased text-slate-700">

    <!-- Main Application Container -->
    <div id="app" class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">

        <!-- Header -->
        <header class="mb-8">
            <div class="flex justify-between items-center">
                <div class="w-20"></div>
                <div class="text-center">
                     <div class="flex items-center justify-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-emerald-500"><circle cx="11" cy="4" r="2"/><circle cx="18" cy="8" r="2"/><circle cx="4" cy="8" r="2"/><path d="M9 10.5A5 5 0 0 1 12 5a5 5 0 0 1 3 5.5"/><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8Z"/></svg>
                        <h1 class="text-3xl sm:text-4xl font-bold text-slate-800">The Paw Society</h1>
                    </div>
                </div>
                <div class="flex items-center justify-end gap-2 w-20">
                    <button id="notifications-btn" title="Enable Browser Notifications" class="p-2 rounded-full text-slate-500 hover:bg-slate-200 hover:text-slate-800 transition-colors">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>
                    </button>
                    <button id="refresh-btn" title="Refresh Walks" class="p-2 rounded-full text-slate-500 hover:bg-slate-200 hover:text-slate-800 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2v6h-6"/><path d="M21 13a9 9 0 1 1-3-7.7L21 8"/></svg>
                    </button>
                </div>
            </div>
            <div class="text-center mt-2">
                <p class="text-slate-500">Arrange and join group dog walks in your area.</p>
                <p id="welcome-message" class="mt-4 text-emerald-600 font-medium hidden"></p>
            </div>
        </header>

        <!-- Create a New Walk Form -->
        <div class="bg-white p-6 rounded-2xl shadow-lg mb-8">
            <h2 class="text-2xl font-semibold mb-4 text-slate-800">Host a New Walk</h2>
            <form id="create-walk-form">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="location" class="block text-sm font-medium text-slate-600 mb-1">Location / Park</label>
                        <input type="text" id="location" name="location" placeholder="e.g., Park, Pub, Excel" required class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition">
                    </div>
                    <div>
                        <label for="datetime" class="block text-sm font-medium text-slate-600 mb-1">Date & Time</label>
                        <input type="datetime-local" id="datetime" name="datetime" required class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition">
                    </div>
                </div>
                <div class="mt-4">
                    <label for="description" class="block text-sm font-medium text-slate-600 mb-1">Description (Optional)</label>
                    <textarea id="description" name="description" rows="2" placeholder="e.g., Meet near the main entrance. All friendly dogs welcome!" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition"></textarea>
                </div>
                <div class="mt-4 text-right">
                    <button type="submit" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5">
                        Create Walk
                    </button>
                </div>
            </form>
        </div>

        <!-- Walk Lists Container -->
        <div>
            <div id="walks-list" class="space-y-4"></div>
            <div id="loading" class="text-center py-8">
                <div class="spinner mx-auto"></div>
                <p class="mt-2 text-slate-500">Fetching walks...</p>
            </div>
            <p id="no-walks" class="hidden text-center text-slate-500 py-8 bg-white rounded-2xl shadow-md">No walks scheduled. Why not create one?</p>
        </div>

    </div>

    <!-- User Name Modal -->
    <div id="user-modal" class="fixed inset-0 bg-slate-900 bg-opacity-60 backdrop-blur-sm flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 text-center">
            <h2 class="text-2xl font-bold text-slate-800 mb-2">Welcome!</h2>
            <p class="text-slate-500 mb-6">Please enter your name to join the fun.</p>
            <form id="user-name-form">
                <input type="text" id="username" placeholder="Your Name" required class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition text-center text-lg">
                <button type="submit" class="w-full mt-4 bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5">
                    Let's Go!
                </button>
            </form>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-5 right-5 bg-slate-800 text-white py-2 px-5 rounded-lg shadow-xl opacity-0 translate-y-10 transition-all duration-300">
        <p id="toast-message"></p>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>

